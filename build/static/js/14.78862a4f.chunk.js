(this.webpackJsonpwastelink=this.webpackJsonpwastelink||[]).push([[14],{1289:function(e,t,a){"use strict";a.r(t);var n=a(205),l=a(782),c=a.n(l),i=a(783),r=a(40),m=a(0),o=a.n(m),s=(a(951),a(756)),d=a(753),u=a(911),f=a(912),p=a(139),v=a(1296),E=a(375),x=a(1297),g=a(1293),h=a(1298),b=a(1299),N=a(1300),y=a(1301),k=a(1302),w=a(1303),I=a(108),_=a(852),A=a.n(_),j=a(34),L=a.n(j),C=a(186),D=a.n(C),O=a(119),T=s.a.Search,R=d.a.RangePicker;t.default=function(){var e=Object(I.g)(),t=Object(m.useState)(!0),a=Object(r.a)(t,2),l=a[0],s=a[1],d=function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.toDataURL(t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(t){e.push("/employee-details",t)},j=function(t){return o.a.createElement(u.a,{className:"goto_menu",onClick:function(a){return function(t,a){if("1"===t.key)d(a.empID).then((function(t){var n={emp:a,qrImg:t};e.push("/employee-QRCode",n)}));else if("2"===t.key)e.push("/employee-edit",a);else if("3"===t.key){var l="Active"===t.item.props.status?1:0,c=B.filter((function(e){return e.id===a.id}));fetch("".concat(O.a,"/employeeList/").concat(a.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(n.a)(Object(n.a)({},c[0]),{},{isActive:l}))}).then((function(e){return e.json()})).then((function(e){var t=B.map((function(t){return t.id===e.id?e:t}));J(t),s(!1)}))}else"4"===t.key?fetch("".concat(O.a,"/employeeList/").concat(a.id,"/"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){var t=B.filter((function(e){return e.id!==a.id}));J(t)})).catch((function(e){console.error(e)})):"5"===t.key&&_(a)}(a,t)}},o.a.createElement(u.a.Item,{className:"d-flex align-items-center justify-content-start",key:"5"},o.a.createElement(h.a,null),o.a.createElement("div",{className:"menuItem"},"Employee Details")),o.a.createElement(u.a.Item,{className:"d-flex align-items-center justify-content-start",key:"1"},o.a.createElement(b.a,null),o.a.createElement("div",{className:"menuItem"},"Download card")),o.a.createElement(u.a.Item,{className:"d-flex align-items-center justify-content-start",key:"2"},o.a.createElement(N.a,null),o.a.createElement("div",{className:"menuItem"},"Edit Details")),o.a.createElement(u.a.Item,{className:"d-flex align-items-center justify-content-start",key:"3",status:"0"===t.isActive?"Active":"Inactive"},o.a.createElement(y.a,null),o.a.createElement("div",{className:"menuItem"},"0"===t.isActive?"Active":"Inactive")),o.a.createElement(u.a.Item,{className:"d-flex align-items-center justify-content-start",key:"4"},o.a.createElement(k.a,null),o.a.createElement("div",{className:"menuItem"},"Delete")))},C=Object(m.useState)({current:1,pageSize:10}),S=Object(r.a)(C,2),M=S[0],U=(S[1],Object(m.useState)([])),W=Object(r.a)(U,2),B=W[0],J=W[1],P=Object(m.useState)([]),F=Object(r.a)(P,2),z=F[0],G=F[1];Object(m.useEffect)((function(){fetch("".concat(O.a,"/register/")).then((function(e){return e.json()})).then((function(e){J(e),G(e),s(!1)}))}),[]),console.log(B);var H=l?[]:null===B||void 0===B?void 0:B.map((function(e,t){return{key:t,empID:o.a.createElement("div",{onClick:function(){return _(e)}},e.empID),empImage:o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{width:50,src:e.profileImage})),empName:e.name,email:e.email,mobile:e.mobile,branch:e.branch,dateOfJoin:L()(e.date_joined).format("ll"),designation:e.role,status:"1"===e.isActive?o.a.createElement(E.a,{color:"#108ee9"},"Active"):o.a.createElement(E.a,{color:"#C50"},"Inactive"),action:(a=e,o.a.createElement(f.a,{overlay:j(a),trigger:["click"]},o.a.createElement(p.a,null,o.a.createElement("i",{className:"fa fa-ellipsis-h","aria-hidden":"true"}))))};var a})),q=["Emp ID","Name","Email","Mobile","Date Of Joining","Role","Branch","DOB","Active","Address","Aadhar","Pancard","Bank Name","Account Number","IFSC Code"],Q=o.a.createElement("div",{className:"_empToolTip"},o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Rai"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Rai Unit"===e.branch})).length)),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Lucknow"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Lucknow Unit"===e.branch})).length)),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Mumbai"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Mumbai Unit"===e.branch})).length))),K=o.a.createElement("div",{className:"_empToolTip"},o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Rai"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Rai Unit"===e.branch&&"1"===e.isActive})).length)),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Lucknow"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Lucknow Unit"===e.branch&&"1"===e.isActive})).length)),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Mumbai"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Mumbai Unit"===e.branch&&"1"===e.isActive})).length))),V=o.a.createElement("div",{className:"_empToolTip"},o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Rai"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Rai Unit"===e.branch&&"0"===e.isActive})).length)),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Lucknow"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Lucknow Unit"===e.branch&&"0"===e.isActive})).length)),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("p",{className:"_tit"},"Mumbai"),o.a.createElement("p",{className:"mb-0 ml-4 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"Mumbai Unit"===e.branch&&"0"===e.isActive})).length)));return o.a.createElement("div",{className:"employeeList"},o.a.createElement("div",{className:"tableToExcel",style:{display:"none"}}),o.a.createElement("div",{className:"expBtn d-flex justify-content-end mb-4"},o.a.createElement(p.a,{onClick:function(){var e="",t="";q.forEach((function(e){t+='<td style="border:1px solid black;font-weight:600;text-align:center;">'.concat(e,"</td>")})),e+="<tr>".concat(t,"</tr>"),B.forEach((function(t){var a;a='<td style="vertical-align:middle;padding:5px;">'.concat(t.empID,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.name,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.email,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.mobile,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(L()(t.date_joined).format("ll"),'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.role,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.branch,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(L()(t.dob).format("ll"),'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.isActive?"Active":"Inactive",'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.address,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.aadharNumber,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.pancard,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.bankname,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.accountNumber,'</td>\n                  <td style="vertical-align:middle;padding:5px;">').concat(t.IFSCCode,"</td>"),e+="<tr>".concat(a,"</tr>")}));var a='<tr>\n                  <td colspan="15"></td>\n              </tr>'+e;D()(".tableToExcel").html(a);var n,l={worksheet:"Sheet1",table:D()(".tableToExcel")[0].innerHTML};window.location.href="data:application/vnd.ms-excel;base64,"+function(e){return window.btoa(unescape(encodeURIComponent(e)))}((n=l,'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table style="border:1px solid black;">{table}</table></body></html>'.replace(/{(\w+)}/g,(function(e,t){return n[t]}))))}},"Export")),o.a.createElement("div",{className:"empSummary"},o.a.createElement("div",{className:"row "},o.a.createElement("div",{className:"col-sm-4 col-6"},o.a.createElement("div",{className:"d-flex flex-column"},o.a.createElement("p",{className:"_tit"},"Total Employee"),o.a.createElement("div",{className:"d-flex flex-row align-items-center"},o.a.createElement("p",{className:"mb-0 _val"},null===B||void 0===B?void 0:B.length),o.a.createElement(x.a,{placement:"bottomLeft",content:Q,title:"Total Employee",trigger:"click",className:"_popover"},o.a.createElement(w.a,null))))),o.a.createElement("div",{className:"col-sm-4 col-6"},o.a.createElement("div",{className:"d-flex flex-column"},o.a.createElement("p",{className:"_tit"},"Active Employee"),o.a.createElement("div",{className:"d-flex flex-row align-items-center"},o.a.createElement("p",{className:"mb-0 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"1"===e.isActive})).length),o.a.createElement(x.a,{placement:"bottomLeft",content:K,title:"Active Employee",trigger:"click"},o.a.createElement(w.a,null))))),o.a.createElement("div",{className:"col-sm-4 col-6"},o.a.createElement("div",{className:"d-flex flex-column"},o.a.createElement("p",{className:"_tit"},"Inactive Employee"),o.a.createElement("div",{className:"d-flex flex-row align-items-center"},o.a.createElement("p",{className:"mb-0 _val"},null===B||void 0===B?void 0:B.filter((function(e){return"0"===e.isActive})).length),o.a.createElement(x.a,{placement:"bottomLeft",content:V,title:"Inactive Employee",trigger:"click"},o.a.createElement(w.a,null))))))),o.a.createElement("div",{className:"filter"},o.a.createElement(R,{onChange:function(e){if(null!==e){var t=z.filter((function(t){return L()(t.date_joined).isBetween(e[0]._d,e[1]._d)}));J(t)}else J(z)}}),o.a.createElement(T,{placeholder:"input search text",onSearch:function(e){console.log(e)},onChange:function(e){var t=e.target.value,a=z.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.empID.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||e.branch.toLowerCase().includes(t.toLowerCase())||e.mobile.includes(t)}));J(a)},style:{width:250}})),o.a.createElement(g.a,{columns:[{title:"EMP ID",dataIndex:"empID",className:"empID",key:"empID"},{title:"IMAGE",dataIndex:"empImage",key:"0"},{title:"NAME",dataIndex:"empName",key:"1"},{title:"EMAIL",dataIndex:"email",key:"3"},{title:"MOBILE",dataIndex:"mobile",key:"4"},{title:"BRANCH",dataIndex:"branch",key:"branch"},{title:"Date of joining",dataIndex:"dateOfJoin",key:"7"},{title:"Designation",dataIndex:"designation",key:"8"},{title:"Status",dataIndex:"status",key:"8"},{title:"Action",dataIndex:"action",key:"9"}],dataSource:H,pagination:M,size:"small",scroll:{x:1500}}))}},951:function(e,t,a){}}]);
//# sourceMappingURL=14.78862a4f.chunk.js.map