{"version":3,"sources":["app/modules/Employee/EmployeeEdit.js"],"names":["Option","Select","EmployeeEdit","props","empData","location","state","console","log","useState","loading","history","useHistory","className","onFinish","fieldsValue","obj1","empID","dob","moment","format","date_joined","empDetails","a","fetch","baseURL","id","method","headers","body","JSON","stringify","req","json","res","push","error","postEmpData","onFinishFailed","layout","initialValues","Item","name","rules","required","message","type","placeholder","autoComplete","label","width","src","aadharFrontImage","aadharBackImage","pancardImage","profileImage","showSearch","disabled","value","passbookImage","size","htmlType"],"mappings":"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","file":"static/js/10.06c554ef.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../../../_wastelink/_assets/sass/pages/Employee/employee-edit.scss\";\r\nimport { Form, Input, Button, Select, Upload, DatePicker, Image } from \"antd\";\r\nimport \"../../../_wastelink/_assets/sass/pages/Employee/employee-register.scss\";\r\nimport ImgCrop from \"antd-img-crop\";\r\nimport { useHistory } from \"react-router\";\r\nimport moment from \"moment\";\r\nimport baseURL from \"../../baseurl\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction EmployeeEdit(props) {\r\n  let empData = props.location.state;\r\n  console.log(empData);\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const formSubmit = (fieldsValue) => {\r\n    let obj1 = {\r\n      empID: empData.empID,\r\n      dob: moment(fieldsValue.dob).format(\"YYYY-MM-DD\"),\r\n      date_joined: moment(fieldsValue.date_joined).format(\"YYYY-MM-DD\"),\r\n    };\r\n    let empDetails = { ...fieldsValue, ...obj1 };\r\n    const postEmpData = async () => {\r\n      try {\r\n        const req = await fetch(`${baseURL}/employeeList/${empData.id}/`, {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(empDetails),\r\n        });\r\n        const res = await req.json();\r\n        console.log(res);\r\n        history.push(\"/employee-list\");\r\n        console.log(res);\r\n      } catch (err) {\r\n        console.error(`ERROR: ${err}`);\r\n      }\r\n    };\r\n    postEmpData();\r\n  };\r\n\r\n  const formSubmitFailed = () => {};\r\n\r\n  return (\r\n    <div className=\"employeeEdit\">\r\n      <Form\r\n        onFinish={formSubmit}\r\n        onFinishFailed={formSubmitFailed}\r\n        layout=\"vertical\"\r\n        className=\"row\"\r\n        initialValues={{\r\n          ...empData,\r\n          dob: moment(empData.dob),\r\n          date_joined: moment(empData.date_joined),\r\n        }}\r\n      >\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <fieldset className=\"border p-4\">\r\n            <legend className=\"w-auto\">Personal Details</legend>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"name\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter Name\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"name\"\r\n                  type=\"text\"\r\n                  placeholder=\"Name\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"aadharNumber\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter Aadhar number\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"aadharNumber\"\r\n                  type=\"text\"\r\n                  placeholder=\"Aadhar Number\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row imageUpload\">\r\n              <Form.Item\r\n                className=\"col-sm-6\"\r\n                name=\"aadharFrontImage\"\r\n                label=\"Aadhar front image\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please upload Aadhar front image\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Image width={100} src={empData.aadharFrontImage} />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                className=\"col-sm-6\"\r\n                name=\"aadharBackImage\"\r\n                label=\"Aadhar back image\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please upload Aadhar back image\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Image width={100} src={empData.aadharBackImage} />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"pancard\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter Pancard Number\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"pancard\"\r\n                  type=\"text\"\r\n                  placeholder=\"Pancard Number\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row imageUpload\">\r\n              <Form.Item\r\n                className=\"col-md-6\"\r\n                name=\"pancardImage\"\r\n                label=\"Pancard image\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please upload Pancard image\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Image width={100} src={empData.pancardImage} />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"email\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter email!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"mobile\"\r\n                rules={[\r\n                  {\r\n                    // required: true,\r\n                    // validator: (rule, value, cb) => {\r\n                    //   value.length < 10 || value.length > 10\r\n                    //     ? cb(\"Please Enter mobile!\")\r\n                    //     : cb();\r\n                    // },\r\n                    message: \"Please Enter mobile!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"mobile\"\r\n                  type=\"number\"\r\n                  placeholder=\"Mobile number\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"address\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter address!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"address\"\r\n                  type=\"address\"\r\n                  placeholder=\"Address\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"dob\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter Date of birth!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <DatePicker placeholder=\"Date of birth\" name=\"dob\" />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row imageUpload\">\r\n              <p className=\"tl\">Employee Image:</p>\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"profileImage\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please upload employee image!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Image width={100} src={empData.profileImage} />\r\n              </Form.Item>\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <fieldset className=\"border p-4\">\r\n            <legend className=\"w-auto\">Joining Details</legend>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"branch\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please select Branch!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select\r\n                  showSearch\r\n                  name=\"branch\"\r\n                  placeholder=\"Select Branch\"\r\n                  autoComplete=\"off\"\r\n                  disabled\r\n                >\r\n                  <Option value=\"Rai Unit\">Rai Unit</Option>\r\n                  <Option value=\"Lucknow Unit\">Lucknow Unit</Option>\r\n                  <Option value=\"Mumbai Unit\">Mumbai Unit</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"date_joined\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter Date of joining!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <DatePicker placeholder=\"Date of joining\" name=\"date_joined\" />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"role\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please select user designation!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Select\r\n                  showSearch\r\n                  name=\"role\"\r\n                  placeholder=\"Select User Designation\"\r\n                  autoComplete=\"off\"\r\n                >\r\n                  <Option value=\"Supervisor\">Supervisor</Option>\r\n                  <Option value=\"Staff\">Staff</Option>\r\n                  <Option value=\"Auditor\">Auditor</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <fieldset className=\"border p-4\">\r\n            <legend className=\"w-auto\">Bank Details</legend>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"bankname\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter Bank Name\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"bankname\"\r\n                  type=\"text\"\r\n                  placeholder=\"Bank Name\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"accountNumber\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter account number\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"accountNumber\"\r\n                  type=\"text\"\r\n                  placeholder=\"Account Number\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"IFSCCode\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please Enter IFSC Code\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input\r\n                  name=\"IFSCCode\"\r\n                  type=\"text\"\r\n                  placeholder=\"IFSC Code\"\r\n                  autoComplete=\"off\"\r\n                />\r\n              </Form.Item>\r\n            </div>\r\n\r\n            <div className=\"form-row imageUpload\">\r\n              <p className=\"tl\">Passbook Image:</p>\r\n              <Form.Item\r\n                className=\"col-md-12\"\r\n                name=\"passbookImage\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please upload Passbook Image\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Image width={100} src={empData.passbookImage} />\r\n              </Form.Item>\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n\r\n        <div className=\"form-row editButton\">\r\n          <Button size=\"large\" htmlType=\"submit\" loading={loading}>\r\n            Update\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmployeeEdit;\r\n"],"sourceRoot":""}