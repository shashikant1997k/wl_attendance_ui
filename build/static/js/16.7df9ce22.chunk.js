(this.webpackJsonpwastelink=this.webpackJsonpwastelink||[]).push([[16],{1287:function(e,a,t){"use strict";t.r(a);var r=t(782),n=t.n(r),m=t(783),l=t(160),o=t(205),c=t(40),s=t(0),i=t.n(s),d=t(751),u=t(754),p=t(756),g=t(1294),f=t(753),h=t(139),E=(t(821),t(910),t(108)),b=t(34),I=t.n(b),N=t(119),v=d.a.Option;a.default=function(){var e=Object(s.useState)(!1),a=Object(c.a)(e,2),t=a[0],r=(a[1],Object(E.g)()),b=Object(s.useState)({aadharFrontImage:"",aadharBackImage:"",pancardImage:"",profileImage:"",passbookImage:""}),w=Object(c.a)(b,2),k=w[0],P=w[1],y=function(e,a){console.log(e),P((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},a,e.fileList))}))},C=function(){var e=Object(m.a)(n.a.mark((function e(a){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.url){e.next=5;break}return e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(a.originFileObj),t.onload=function(){return e(t.result)}}));case 4:t=e.sent;case 5:(r=new Image).src=t,window.open(t).document.write(r.outerHTML),console.log(t);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"employeeRegister"},i.a.createElement(u.a,{onFinish:function(e){console.log(k),fetch("".concat(N.a,"/register/?branch=").concat(e.branch)).then((function(e){return e.json()})).then((function(a){var t="RAI";"Lucknow Unit"===e.branch?t="LKO":"Mumbai Unit"===e.branch?t="MUM":"Rai Unit"===e.branch&&(t="RAI");var l=Number(a.length);console.log(l);var o=1===l||0===l?"000"+(l+1):2===l?"00"+(l+1):3===l?"0"+(l+1):l+1,c=new FormData;c.append("aadharFrontImage",k.aadharFrontImage[0].originFileObj),c.append("aadharBackImage",k.aadharBackImage[0].originFileObj),c.append("pancardImage",k.pancardImage[0].originFileObj),c.append("profileImage",k.profileImage[0].originFileObj),c.append("passbookImage",k.passbookImage[0].originFileObj),c.append("empID",t+""+o),c.append("name",e.name),c.append("aadharNumber",e.aadharNumber),c.append("pancard",e.pancard),c.append("email",e.email),c.append("mobile",e.mobile),c.append("branch",e.branch),c.append("address",e.address),c.append("role",e.role),c.append("bankname",e.bankname),c.append("accountNumber",e.accountNumber),c.append("IFSCCode",e.IFSCCode),c.append("dob",I()(e.dob).format("YYYY-MM-DD")),c.append("date_joined",I()(e.date_joined).format("YYYY-MM-DD")),function(){var e=Object(m.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N.a,"/register/"),{method:"POST",body:c});case 3:return a=e.sent,e.next=6,a.json();case 6:e.sent,r.push("/employee-list"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("ERROR: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}))},onFinishFailed:function(){},layout:"vertical",className:"row"},i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("fieldset",{className:"border p-4"},i.a.createElement("legend",{className:"w-auto"},"Personal Details"),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"name",rules:[{required:!0,message:"Please Enter Name"}]},i.a.createElement(p.a,{name:"name",type:"text",placeholder:"Name",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"aadharNumber",rules:[{required:!0,message:"Please Enter Aadhar number"}]},i.a.createElement(p.a,{name:"aadharNumber",type:"text",placeholder:"Aadhar Number",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row imageUpload"},i.a.createElement(u.a.Item,{className:"col-sm-6",name:"aadharFrontImage",label:"Aadhar front image",rules:[{required:!0,message:"Please upload Aadhar front image"}]},i.a.createElement(g.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:k.aadharFrontImage,onChange:function(e){return y(e,"aadharFrontImage")},onPreview:C,name:"aadharFrontImage"},(null===k||void 0===k?void 0:k.aadharFrontImage.length)<1&&"+ Upload")),i.a.createElement(u.a.Item,{className:"col-sm-6",name:"aadharBackImage",label:"Aadhar back image",rules:[{required:!0,message:"Please upload Aadhar back image"}]},i.a.createElement(g.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:k.aadharBackImage,onChange:function(e){return y(e,"aadharBackImage")},onPreview:C,name:"aadharBackImage"},(null===k||void 0===k?void 0:k.aadharBackImage.length)<1&&"+ Upload"))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"pancard",rules:[{required:!0,message:"Please Enter Pancard Number"}]},i.a.createElement(p.a,{name:"pancard",type:"text",placeholder:"Pancard Number",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row imageUpload"},i.a.createElement(u.a.Item,{className:"col-md-6",name:"pancardImage",label:"Pancard image",rules:[{required:!0,message:"Please upload Pancard image"}]},i.a.createElement(g.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:k.pancardImage,onChange:function(e){return y(e,"pancardImage")},onPreview:C,name:"pancardImage"},(null===k||void 0===k?void 0:k.pancardImage.length)<1&&"+ Upload"))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"email",rules:[{required:!0,message:"Please Enter email!"}]},i.a.createElement(p.a,{name:"email",type:"email",placeholder:"Email",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"mobile",rules:[{message:"Please Enter mobile!"}]},i.a.createElement(p.a,{name:"mobile",type:"number",placeholder:"Mobile number",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"address",rules:[{required:!0,message:"Please Enter address!"}]},i.a.createElement(p.a,{name:"address",type:"address",placeholder:"Address",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"dob",rules:[{required:!0,message:"Please Enter Date of birth!"}]},i.a.createElement(f.a,{placeholder:"Date of birth",name:"dob"}))),i.a.createElement("div",{className:"form-row imageUpload"},i.a.createElement("p",{className:"tl"},"Employee Image:"),i.a.createElement(u.a.Item,{className:"col-md-12",name:"profileImage",rules:[{required:!0,message:"Please upload employee image!"}]},i.a.createElement(g.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:k.profileImage,onChange:function(e){return y(e,"profileImage")},onPreview:C,name:"profileImage"},(null===k||void 0===k?void 0:k.profileImage.length)<1&&"+ Upload"))))),i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("fieldset",{className:"border p-4"},i.a.createElement("legend",{className:"w-auto"},"Joining Details"),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"branch",rules:[{required:!0,message:"Please select Branch!"}]},i.a.createElement(d.a,{showSearch:!0,name:"branch",placeholder:"Select Branch",autoComplete:"off"},i.a.createElement(v,{value:"Rai Unit"},"Rai Unit"),i.a.createElement(v,{value:"Lucknow Unit"},"Lucknow Unit"),i.a.createElement(v,{value:"Mumbai Unit"},"Mumbai Unit")))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"date_joined",rules:[{required:!0,message:"Please Enter Date of joining!"}]},i.a.createElement(f.a,{placeholder:"Date of joining",name:"date_joined"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"role",rules:[{required:!0,message:"Please select user designation!"}]},i.a.createElement(d.a,{showSearch:!0,name:"role",placeholder:"Select User Designation",autoComplete:"off"},i.a.createElement(v,{value:"Supervisor"},"Supervisor"),i.a.createElement(v,{value:"Staff"},"Staff"),i.a.createElement(v,{value:"Auditor"},"Auditor")))))),i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("fieldset",{className:"border p-4"},i.a.createElement("legend",{className:"w-auto"},"Bank Details"),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"bankname",rules:[{required:!0,message:"Please Enter Bank Name"}]},i.a.createElement(p.a,{name:"bankname",type:"text",placeholder:"Bank Name",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"accountNumber",rules:[{required:!0,message:"Please Enter account number"}]},i.a.createElement(p.a,{name:"accountNumber",type:"text",placeholder:"Account Number",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row"},i.a.createElement(u.a.Item,{className:"col-md-12",name:"IFSCCode",rules:[{required:!0,message:"Please Enter IFSC Code"}]},i.a.createElement(p.a,{name:"IFSCCode",type:"text",placeholder:"IFSC Code",autoComplete:"off"}))),i.a.createElement("div",{className:"form-row imageUpload"},i.a.createElement("p",{className:"tl"},"Passbook Image:"),i.a.createElement(u.a.Item,{className:"col-md-12",name:"passbookImage",rules:[{required:!0,message:"Please upload Passbook Image"}]},i.a.createElement(g.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:k.passbookImage,onChange:function(e){return y(e,"passbookImage")},onPreview:C,name:"passbookImage"},(null===k||void 0===k?void 0:k.passbookImage.length)<1&&"+ Upload"))))),i.a.createElement("div",{className:"form-row registerButton"},i.a.createElement(h.a,{size:"large",htmlType:"submit",loading:t},"Register"))))}},821:function(e,a,t){}}]);
//# sourceMappingURL=16.7df9ce22.chunk.js.map